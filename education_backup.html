<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daniel Wanjala - My Educational Odyssey</title> <link rel="icon" href="assets/logo.png" type="image/png">
    <link rel="shortcut icon" href="assets/logo.png" type="image/png">
    <link rel="apple-touch-icon" href="assets/apple-touch-icon.png">

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=Satoshi:wght@400;500;700&family=Inter:wght@400;500&family=IBM+Plex+Sans:wght@400;500&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">

    <script src="https://unpkg.com/lucide@latest"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>

    <style>
        /* Base, Fonts, Scrollbar, Mobile Menu (Consistent) */
        body { font-family: 'Inter', 'IBM Plex Sans', sans-serif; overflow-x: hidden; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; background-attachment: fixed; position: relative; }
        .font-heading { font-family: 'Satoshi', 'Space Grotesk', 'Neue Montreal', sans-serif; }
        .font-body { font-family: 'Inter', 'IBM Plex Sans', sans-serif; }
        .font-mono { font-family: 'JetBrains Mono', 'Source Code Pro', monospace; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: theme('colors.sandstone'); }
        ::-webkit-scrollbar-thumb { background: theme('colors.accent'); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: theme('colors.accent-secondary'); }
        html.dark ::-webkit-scrollbar-track { background: theme('colors.dark-secondary-bg'); }
        html.dark ::-webkit-scrollbar-thumb { background: theme('colors.dark-accent'); }
        html.dark ::-webkit-scrollbar-thumb:hover { background: theme('colors.dark-accent-secondary'); }
        html { scroll-behavior: smooth; }
        #mobile-menu { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out, opacity 0.3s ease-out; opacity: 0; }
        #mobile-menu.open { max-height: 500px; opacity: 1; }

        /* Scroll Reveal (Consistent) */
        .reveal-hidden { opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
        .reveal-visible { opacity: 1; transform: translateY(0); }
        .reveal-slide-left { opacity: 0; transform: translateX(-50px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .reveal-slide-right { opacity: 0; transform: translateX(50px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .reveal-visible.slide-in { opacity: 1; transform: translateX(0); }

        /* Enhanced Navbar (Consistent - Highlight Education) */
        .nav-link { @apply px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 ease-out relative text-secondary-text dark:text-dark-secondary-text opacity-80 hover:opacity-100; }
        .nav-link:hover:not(.nav-active) { @apply text-primary-text dark:text-dark-primary-text transform scale-[1.03]; }
        .nav-link.nav-active { @apply bg-gradient-to-r from-accent to-accent-secondary dark:from-dark-accent dark:to-dark-accent-secondary bg-clip-text text-transparent opacity-100 font-semibold; }
        .nav-link .active-underline { display: none; position: absolute; bottom: -4px; left: 50%; transform: translateX(-50%); width: 0; height: 2px; background-image: linear-gradient(to right, theme('colors.accent'), theme('colors.accent-secondary')); border-radius: 1px; transition: width 0.4s cubic-bezier(0.23, 1, 0.32, 1); }
        html.dark .nav-link .active-underline { background-image: linear-gradient(to right, theme('colors.dark-accent'), theme('colors.dark-accent-secondary')); }
        .nav-link.nav-active .active-underline { display: block; width: 60%; }
        .mobile-nav-link { @apply block px-3 py-2 rounded-md text-base font-medium transition-all duration-200 ease-in-out text-secondary-text dark:text-dark-secondary-text; }
        .mobile-nav-link:hover { @apply bg-secondary-text/5 dark:bg-dark-secondary-text/10 text-primary-text dark:text-dark-primary-text; }
        .mobile-nav-link.nav-active { background-image: linear-gradient(to right, theme('colors.accent/10'), theme('colors.accent-secondary/20')); color: theme('colors.accent') !important; @apply font-semibold; }
        html.dark .mobile-nav-link.nav-active { background-image: linear-gradient(to right, theme('colors.dark-accent/10'), theme('colors.dark-accent-secondary/20')); color: theme('colors.dark-accent') !important; }

        /* Canvas, Main Container, Header Shrink, Back to Top (Consistent) */
        #particle-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }
        #main-content-container { perspective: 1000px; transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1); }
        header.scrolled { @apply h-14 shadow-md; }
        header.scrolled .h-16 { @apply h-14; }
        header.scrolled .h-8 { @apply h-7; }
        #back-to-top { position: fixed; bottom: 20px; right: 20px; opacity: 0; visibility: hidden; transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out, transform 0.3s ease-in-out; transform: translateY(20px); z-index: 1000; @apply focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent dark:focus:ring-dark-accent; }
        #back-to-top.visible { opacity: 1; visibility: visible; transform: translateY(0); }

        /* --- Education Timeline Styles --- */
        .education-timeline::before { /* The main timeline bar */
            content: ''; position: absolute; top: 0; bottom: 0; left: 1.5rem; /* Adjust based on icon size */
            width: 4px; background-color: theme('colors.accent/20'); border-radius: 2px;
            transform-origin: top; transform: scaleY(0); /* Start hidden */
            animation: draw-timeline-bar 3s cubic-bezier(0.25, 1, 0.5, 1) forwards;
            animation-delay: 0.5s; /* Delay start */
        }
        html.dark .education-timeline::before { background-color: theme('colors.dark-accent/20'); }
        @keyframes draw-timeline-bar { to { transform: scaleY(1); } }

        .education-item { position: relative; padding-left: 4rem; /* More space for icon + effects */ padding-bottom: 4rem; }
        .education-item:last-child { padding-bottom: 1rem; } /* Less padding on last item */

        .education-icon-wrapper {
            position: absolute; left: calc(1.5rem - 1.25rem + 2px); /* Center icon on the line */ top: 0;
            width: 2.5rem; height: 2.5rem; border-radius: 50%;
            background-color: theme('colors.primary-bg'); dark:bg-dark-primary-bg;
            display: flex; align-items: center; justify-content: center; z-index: 10;
            box-shadow: 0 0 0 4px theme('colors.primary-bg'), 0 0 0 6px theme('colors.accent');
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        html.dark .education-icon-wrapper {
            background-color: theme('colors.dark-primary-bg');
            box-shadow: 0 0 0 4px theme('colors.dark-primary-bg'), 0 0 0 6px theme('colors.dark-accent');
        }
        .education-item:hover .education-icon-wrapper {
            transform: scale(1.1);
            box-shadow: 0 0 0 4px theme('colors.primary-bg'), 0 0 0 7px theme('colors.accent-secondary'), 0 5px 15px rgba(0,0,0,0.1);
        }
        html.dark .education-item:hover .education-icon-wrapper {
             box-shadow: 0 0 0 4px theme('colors.dark-primary-bg'), 0 0 0 7px theme('colors.dark-accent-secondary'), 0 5px 15px rgba(0,0,0,0.2);
        }
        .education-icon { width: 1.25rem; height: 1.25rem; color: theme('colors.accent'); transition: color 0.3s ease; }
        html.dark .education-icon { color: theme('colors.dark-accent'); }
        .education-item:hover .education-icon { color: theme('colors.accent-secondary'); }
        html.dark .education-item:hover .education-icon { color: theme('colors.dark-accent-secondary'); }

        .education-content { @apply bg-glass-light dark:bg-glass-dark backdrop-blur-md border border-secondary-text/10 dark:border-dark-secondary-text/20 rounded-xl p-6 shadow-md; transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .education-item:hover .education-content { transform: translateX(10px) scale(1.01); @apply shadow-lg; }
        .education-date { @apply text-xs font-mono text-accent-secondary dark:text-dark-accent-secondary mb-2 inline-block bg-secondary-bg dark:bg-dark-secondary-bg px-2 py-0.5 rounded; }
        .education-title { @apply text-xl md:text-2xl font-semibold mb-1 text-primary-text dark:text-dark-primary-text font-heading; }
        .education-institution { @apply text-md font-medium text-secondary-text dark:text-dark-secondary-text mb-3 italic; }
        .education-description { @apply text-sm text-secondary-text dark:text-dark-secondary-text font-body leading-relaxed space-y-2; }

        /* --- Certification Card Styles --- */
        .certification-card {
            @apply bg-gradient-to-br from-secondary-bg/40 to-primary-bg dark:from-dark-secondary-bg/40 dark:to-dark-primary-bg border border-secondary-text/15 dark:border-dark-secondary-text/25 rounded-lg p-4 shadow-sm;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .certification-card:hover {
            transform: translateY(-4px) scale(1.03);
            @apply shadow-lg border-accent/30 dark:border-dark-accent/30;
        }
        .cert-icon { transition: transform 0.4s ease; }
        .certification-card:hover .cert-icon { transform: rotate(-10deg) scale(1.1); }
        .cert-title { @apply text-sm font-semibold text-primary-text dark:text-dark-primary-text font-heading mb-1 line-clamp-1; } /* Limit title lines */
        .cert-issuer { @apply text-xs text-secondary-text dark:text-dark-secondary-text font-mono; }
        .cert-link { @apply text-xs text-accent dark:text-dark-accent hover:underline mt-2 inline-block; transition: transform 0.2s ease; }
        .certification-card:hover .cert-link { transform: translateX(2px); }

        /* --- Animated Counter Styles --- */
        .stat-card { @apply bg-glass-light dark:bg-glass-dark backdrop-blur-sm p-6 rounded-lg border border-secondary-text/10 dark:border-dark-secondary-text/20 text-center shadow-md; transition: transform 0.3s ease; }
        .stat-card:hover { transform: scale(1.05); }
        .stat-number { @apply block text-4xl lg:text-5xl font-bold font-heading bg-gradient-to-r from-accent to-accent-secondary dark:from-dark-accent dark:to-dark-accent-secondary bg-clip-text text-transparent mb-1; }
        .stat-label { @apply text-sm font-medium text-secondary-text dark:text-dark-secondary-text uppercase tracking-wider; }

        /* --- General Button Styles (Consistent) --- */
        .cta-button { @apply interactive-element group relative inline-flex items-center justify-center px-8 py-3 font-semibold rounded-lg shadow-lg transition-all duration-300 ease-out overflow-hidden transform focus:outline-none focus:ring-2 focus:ring-offset-2 bg-gradient-to-r from-accent to-accent-secondary dark:from-dark-accent dark:to-dark-accent-secondary text-white dark:text-jet-black focus:ring-accent dark:focus:ring-dark-accent; }
        .cta-button::before { content: ""; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(120deg, transparent, rgba(255, 255, 255, 0.3), transparent); transition: left 0.6s cubic-bezier(0.23, 1, 0.32, 1); }
        .cta-button:hover::before { left: 100%; }
        .cta-button:hover { @apply shadow-accent/40 dark:shadow-dark-accent/40 scale-[1.03] -translate-y-0.5; }
        .cta-button i { transition: transform 0.3s ease-out; }
        .cta-button:hover i { transform: translateX(4px) scale(1.1); }

        /* Accessibility: Focus Styles */
        *:focus-visible { outline: 2px solid theme('colors.accent'); outline-offset: 2px; border-radius: 2px; }
        html.dark *:focus-visible { outline-color: theme('colors.dark-accent'); }
        *:focus { outline: none; }

    </style>
    <script>
      tailwind.config = { /* Tailwind config - same as before */
        darkMode: 'class', theme: { extend: {
            colors: { 'jet-black': '#0B0C10', 'ghost-white': '#F7F7F7', 'signal-cyan': '#66FCF1', 'tech-purple': '#6C5CE7', 'emerald-green': '#2ECC71', 'red-coral': '#FF6B6B', 'sandstone': '#E0C097', 'whatsapp-green': '#25D366', 'primary-bg': '#F7F7F7', 'primary-text': '#0B0C10', 'secondary-bg': '#E0C097', 'secondary-text': '#4A4A4A', 'accent': '#6C5CE7', 'accent-secondary': '#FF6B6B', 'dark-primary-bg': '#0B0C10', 'dark-primary-text': '#F7F7F7', 'dark-secondary-bg': '#1F2833', 'dark-secondary-text': '#C5C6C7', 'dark-accent': '#66FCF1', 'dark-accent-secondary': '#45A29E', 'tertiary-light': '#F5B041', 'tertiary-dark': '#F39C12', 'glass-light': 'rgba(225, 229, 255, 0.1)', 'glass-dark': 'rgba(17, 24, 39, 0.2)', 'glass-darker': 'rgba(17, 24, 39, 0.3)', },
            fontFamily: { heading: ['Satoshi', 'Space Grotesk', 'Neue Montreal', 'sans-serif'], body: ['Inter', 'IBM Plex Sans', 'sans-serif'], mono: ['JetBrains Mono', 'Source Code Pro', 'monospace'], },
            keyframes: { 'draw-timeline-bar': { 'to': { transform: 'scaleY(1)' } } },
            animation: { 'draw-timeline-bar': 'draw-timeline-bar 3s cubic-bezier(0.25, 1, 0.5, 1) forwards' }
        } }
      }
    </script>
    <script>
        (function() { /* IIFE for theme initialization */
            const storedTheme = localStorage.getItem('theme'); let initialTheme = 'light'; if (storedTheme) { initialTheme = storedTheme; } if (initialTheme === 'dark') { document.documentElement.classList.add('dark'); } else { document.documentElement.classList.remove('dark'); } const applyBgNoise = () => { const noiseLight = "url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%239C92AC' fill-opacity='0.10' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E\")"; const noiseDark = "url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%23C5C6C7' fill-opacity='0.05' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E\")"; if (document.body) { document.body.style.backgroundImage = document.documentElement.classList.contains('dark') ? noiseDark : noiseLight; } }; if (document.readyState === 'loading') { document.addEventListener('DOMContentLoaded', applyBgNoise); } else { applyBgNoise(); }
        })();
    </script>
</head>
<body class="font-body bg-primary-bg text-primary-text dark:bg-dark-primary-bg dark:text-dark-primary-text min-h-screen relative overflow-x-hidden transition-colors duration-300">

    <canvas id="particle-canvas"></canvas>
    <div id="scrollProgressBar" class="fixed top-0 left-0 right-0 h-1 bg-gradient-to-r from-accent to-accent-secondary dark:from-dark-accent dark:to-dark-accent-secondary origin-left z-50" style="transform: scaleX(0);"></div>

    <header id="main-header" class="fixed top-0 left-0 right-0 z-40 transition-all duration-300 backdrop-blur-md bg-glass-light dark:bg-glass-dark border-b border-secondary-text/10 dark:border-dark-secondary-text/10 h-16">
       <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16 transition-all duration-300">
                <a href="index.html" class="flex items-center space-x-2 group" aria-label="Daniel Wanjala - Home">
                     <img src="assets/logo.png" alt="" class="h-8 w-auto transition-transform duration-300 group-hover:scale-110 group-hover:rotate-[-5deg]" aria-hidden="true" onerror="this.style.display='none'; console.error('Logo image failed to load')">
                     <span class="text-xl font-bold bg-gradient-to-r from-accent to-accent-secondary dark:from-dark-accent dark:to-dark-accent-secondary bg-clip-text text-transparent font-heading group-hover:opacity-80 transition-opacity duration-300">
                        Daniel Wanjala.
                    </span>
                </a>
                <nav class="hidden md:flex space-x-6" id="desktop-nav" aria-label="Main navigation">
                     <a href="index.html" data-section="home" class="nav-link">Home <span class="active-underline"></span></a>
                     <a href="about.html" data-section="about" class="nav-link">About <span class="active-underline"></span></a>
                     <a href="skills.html" data-section="skills" class="nav-link">Skills <span class="active-underline"></span></a>
                     <a href="education.html" data-section="education" class="nav-link nav-active">Education <span class="active-underline"></span></a> <a href="projects.html" data-section="projects" class="nav-link">Projects <span class="active-underline"></span></a>
                     <a href="contact.html" data-section="contact" class="nav-link">Contact <span class="active-underline"></span></a>
                </nav>
                <div class="flex items-center space-x-2">
                     <button id="theme-toggle" aria-label="Toggle Dark/Light Mode" class="interactive-element p-2 rounded-full text-secondary-text dark:text-dark-secondary-text hover:text-accent dark:hover:text-dark-accent hover:bg-secondary-text/10 dark:hover:bg-dark-secondary-text/10 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-accent dark:focus:ring-dark-accent">
                        <i id="theme-icon-sun" data-lucide="sun" class="h-5 w-5 hidden" aria-hidden="true"></i>
                        <i id="theme-icon-moon" data-lucide="moon" class="h-5 w-5" aria-hidden="true"></i>
                     </button>
                    <div class="md:hidden">
                        <button id="mobile-menu-button" class="interactive-element inline-flex items-center justify-center p-2 rounded-md text-secondary-text dark:text-dark-secondary-text hover:text-accent dark:hover:text-dark-accent hover:bg-secondary-text/10 dark:hover:bg-dark-secondary-text/10 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-accent dark:focus:ring-dark-accent" aria-controls="mobile-menu" aria-expanded="false">
                            <span class="sr-only">Open main menu</span>
                            <svg id="menu-icon-open" class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                            <svg id="menu-icon-close" class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="md:hidden bg-glass-light dark:bg-glass-darker border-t border-secondary-text/10 dark:border-dark-secondary-text/10" id="mobile-menu">
             <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3" role="menu" aria-orientation="vertical" aria-labelledby="mobile-menu-button">
                 <a href="index.html" data-section="home" class="mobile-nav-link" role="menuitem">Home</a>
                <a href="about.html" data-section="about" class="mobile-nav-link" role="menuitem">About</a>
                <a href="skills.html" data-section="skills" class="mobile-nav-link" role="menuitem">Skills</a>
                <a href="education.html" data-section="education" class="mobile-nav-link nav-active" role="menuitem">Education</a> <a href="projects.html" data-section="projects" class="mobile-nav-link" role="menuitem">Projects</a>
                <a href="contact.html" data-section="contact" class="mobile-nav-link" role="menuitem">Contact</a>
            </div>
        </div>
    </header>

    <div id="main-content-container">
        <main class="pt-24 pb-16">

            <section id="education-intro" class="py-20 px-4 md:px-8 lg:px-16 text-center bg-gradient-to-b from-primary-bg via-secondary-bg/20 to-primary-bg dark:from-dark-primary-bg dark:via-dark-secondary-bg/20 dark:to-dark-primary-bg reveal-hidden">
                 <i data-lucide="graduation-cap" class="w-16 h-16 mx-auto mb-6 text-accent dark:text-dark-accent reveal-hidden animate-bounce-slow"></i> <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-accent to-accent-secondary dark:from-dark-accent dark:to-dark-accent-secondary bg-clip-text text-transparent font-heading tracking-tight reveal-hidden" style="transition-delay: 100ms;">
                    My Academic Quest Log
                 </h1>
                 <p class="text-lg md:text-xl text-secondary-text dark:text-dark-secondary-text max-w-3xl mx-auto mb-8 leading-relaxed font-body reveal-hidden" style="transition-delay: 200ms;">
                    They say education is a journey, not a destination. Mine has definitely felt like an epic quest, complete with side missions (hello, certifications!), challenging boss fights (looking at you, complex algorithms!), and the occasional level-up moment. It's been a path driven by curiosity and a relentless desire to understand how things work – especially how data can be harnessed for good.
                 </p>
                 <p class="text-md text-secondary-text dark:text-dark-secondary-text max-w-2xl mx-auto leading-relaxed font-body reveal-hidden" style="transition-delay: 300ms;">
                    From building foundational knowledge to diving deep into the specialized realms of data science and machine learning, each step has added new tools to my arsenal and new perspectives to my approach. Let's rewind the tape and explore the key chapters of this ongoing adventure!
                 </p>
                 </section>

            <section id="education-timeline-section" class="py-20 px-4 md:px-8 lg:px-16 bg-primary-bg dark:bg-dark-primary-bg reveal-hidden">
                <h2 class="text-3xl md:text-4xl font-bold mb-16 text-center text-primary-text dark:text-dark-primary-text font-heading tracking-tight reveal-hidden">
                    Chronicles of Learning
                </h2>
                <div class="max-w-3xl mx-auto relative education-timeline"> <div class="education-item reveal-hidden" style="transition-delay: 200ms;">
                        <div class="education-icon-wrapper interactive-element" aria-label="Current Quest: MSc">
                            <i data-lucide="flask-conical" class="education-icon"></i> </div>
                        <div class="education-content">
                            <span class="education-date">2024 – Present (Full-Time)</span>
                            <h3 class="education-title">Master of Science in Data Science</h3>
                            <p class="education-institution">Cooperative University of Kenya</p>
                            <div class="education-description">
                                <p>Currently immersed in the deep end! Tackling advanced machine learning, sophisticated statistical modeling, and the nitty-gritty of data-driven research. This is where theory meets complex application.</p>
                                <p class="italic text-xs mt-2">Story Time: Getting into this program felt like unlocking a secret level! I applied a bit late but managed to convince the Head of Department with my passion and prior experience. Persistence is key, even in academia!</p>
                                </div>
                        </div>
                    </div>

                    <div class="education-item reveal-hidden" style="transition-delay: 400ms;">
                         <div class="education-icon-wrapper interactive-element" aria-label="Bootcamp Buff: Moringa">
                            <i data-lucide="rocket" class="education-icon"></i> </div>
                         <div class="education-content">
                            <span class="education-date">Apr 2023 – Nov 2023</span>
                            <h3 class="education-title">Certificate in Data Science & Machine Learning</h3>
                            <p class="education-institution">Moringa School, Nairobi</p>
                            <div class="education-description">
                                <p>This was my intensive data science bootcamp experience – think coding dojo meets data analysis! A whirlwind of Python, deep learning dives, visualization techniques, and project-based learning that really solidified my practical skills.</p>
                                <p class="italic text-xs mt-2">Highlight: Built a financial forecasting model here – my first real taste of predicting the future with code (no crystal ball required, thankfully).</p>
                                </div>
                        </div>
                    </div>

                    <div class="education-item reveal-hidden" style="transition-delay: 600ms;">
                         <div class="education-icon-wrapper interactive-element" aria-label="Foundation: Zetech IT Degree">
                            <i data-lucide="graduation-cap" class="education-icon"></i>
                        </div>
                         <div class="education-content">
                            <span class="education-date">May 2019 – Nov 2022</span>
                            <h3 class="education-title">Bachelor of Science in Information Technology</h3>
                            <p class="education-institution">Zetech University, Kenya</p>
                            <div class="education-description">
                                <p>My official entry into the tech world! This laid the crucial groundwork, covering everything from database management fundamentals and programming logic (hello, Python and SQL!) to networking concepts and system design.</p>
                                <p class="italic text-xs mt-2">Key Takeaway: Learned how systems talk to each other, which is surprisingly useful when trying to get different data sources to cooperate!</p>
                                </div>
                        </div>
                    </div>

                    <div class="education-item reveal-hidden" style="transition-delay: 800ms;">
                         <div class="education-icon-wrapper interactive-element" aria-label="Origin Story: St. Anthony's">
                            <i data-lucide="school" class="education-icon"></i>
                        </div>
                         <div class="education-content">
                            <span class="education-date">Graduated 2018</span>
                            <h3 class="education-title">Kenya Certificate of Secondary Education (KCSE)</h3>
                            <p class="education-institution">St. Anthony’s Boys High School, Kitale</p>
                            <div class="education-description">
                                <p>Where it all began! Focused on sciences and mathematics, unknowingly forging the analytical mindset needed for a future filled with data puzzles. Also, learned the valuable skill of surviving boarding school food (a feat in itself!).</p>
                                <p class="italic text-xs mt-2">Fun Fact: Was already tinkering with computers back then, probably spending too much time trying to understand how games worked.</p>
                                </div>
                        </div>
                    </div>

                </div>
                </section>

            <section id="certifications" class="py-20 px-4 md:px-8 lg:px-16 bg-secondary-bg/30 dark:bg-dark-secondary-bg/30 reveal-hidden">
                <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center text-primary-text dark:text-dark-primary-text font-heading tracking-tight reveal-hidden">
                    Side Quests Completed: Certifications & Badges
                </h2>
                <p class="text-center text-secondary-text dark:text-dark-secondary-text max-w-2xl mx-auto mb-16 font-body reveal-hidden" style="transition-delay: 100ms;">
                    Beyond the main quest line of formal degrees, I enjoy tackling side quests in the form of certifications to pick up specific skills or validate existing knowledge. Think of these as achievement badges unlocked!
                </p>
                <div class="max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 reveal-hidden" style="transition-delay: 200ms;">
                    <a href="#" target="_blank" rel="noopener noreferrer" class="certification-card interactive-element group" aria-label="Google Cloud Workspace Admin Intro">
                        <div class="flex items-center justify-between mb-2">
                            <span class="cert-issuer">Google Cloud</span>
                            <i data-lucide="cloud" class="cert-icon w-6 h-6 text-blue-500 opacity-70 group-hover:opacity-100" aria-hidden="true"></i>
                        </div>
                        <h4 class="cert-title">Intro to Google Workspace Administration</h4>
                        <span class="cert-link">View Credential <i data-lucide="external-link" class="inline-block w-3 h-3 ml-1"></i></span>
                    </a>
                    <a href="#" target="_blank" rel="noopener noreferrer" class="certification-card interactive-element group" aria-label="HackerRank Software Engineer Role">
                        <div class="flex items-center justify-between mb-2">
                            <span class="cert-issuer">HackerRank</span>
                            <i data-lucide="code-2" class="cert-icon w-6 h-6 text-green-600 opacity-70 group-hover:opacity-100" aria-hidden="true"></i>
                        </div>
                        <h4 class="cert-title">Software Engineer Role Certification</h4>
                        <span class="cert-link">View Credential <i data-lucide="external-link" class="inline-block w-3 h-3 ml-1"></i></span>
                    </a>
                     <a href="#" target="_blank" rel="noopener noreferrer" class="certification-card interactive-element group" aria-label="HackerRank Problem Solving Intermediate">
                        <div class="flex items-center justify-between mb-2">
                            <span class="cert-issuer">HackerRank</span>
                            <i data-lucide="puzzle" class="cert-icon w-6 h-6 text-green-600 opacity-70 group-hover:opacity-100" aria-hidden="true"></i>
                        </div>
                        <h4 class="cert-title">Problem Solving (Intermediate)</h4>
                        <span class="cert-link">View Credential <i data-lucide="external-link" class="inline-block w-3 h-3 ml-1"></i></span>
                    </a>
                    <a href="#" target="_blank" rel="noopener noreferrer" class="certification-card interactive-element group" aria-label="Google Data Foundations">
                        <div class="flex items-center justify-between mb-2">
                            <span class="cert-issuer">Google</span>
                            <i data-lucide="database" class="cert-icon w-6 h-6 text-blue-500 opacity-70 group-hover:opacity-100" aria-hidden="true"></i>
                        </div>
                        <h4 class="cert-title">Foundations: Data, Data, Everywhere</h4>
                        <span class="cert-link">View Credential <i data-lucide="external-link" class="inline-block w-3 h-3 ml-1"></i></span>
                    </a>
                     <a href="#" target="_blank" rel="noopener noreferrer" class="certification-card interactive-element group" aria-label="HackerRank Python Basic">
                        <div class="flex items-center justify-between mb-2">
                            <span class="cert-issuer">HackerRank</span>
                            <i data-lucide="python" class="cert-icon w-6 h-6 text-green-600 opacity-70 group-hover:opacity-100" aria-hidden="true"></i>
                        </div>
                        <h4 class="cert-title">Python (Basic) Certificate</h4>
                        <span class="cert-link">View Credential <i data-lucide="external-link" class="inline-block w-3 h-3 ml-1"></i></span>
                    </a>
                     <a href="#" target="_blank" rel="noopener noreferrer" class="certification-card interactive-element group" aria-label="Udemy Python for Data Science">
                        <div class="flex items-center justify-between mb-2">
                            <span class="cert-issuer">Udemy</span>
                            <i data-lucide="bar-chart" class="cert-icon w-6 h-6 text-purple-500 opacity-70 group-hover:opacity-100" aria-hidden="true"></i>
                        </div>
                        <h4 class="cert-title">Python for Data Science</h4>
                        <span class="cert-link">View Credential <i data-lucide="external-link" class="inline-block w-3 h-3 ml-1"></i></span>
                    </a>
                     <a href="#" target="_blank" rel="noopener noreferrer" class="certification-card interactive-element group" aria-label="LinkedIn Data Science Skills">
                        <div class="flex items-center justify-between mb-2">
                            <span class="cert-issuer">LinkedIn</span>
                            <i data-lucide="linkedin" class="cert-icon w-6 h-6 text-blue-700 opacity-70 group-hover:opacity-100" aria-hidden="true"></i>
                        </div>
                        <h4 class="cert-title">Effective Data Scientist Skills</h4>
                        <span class="cert-link">View Course <i data-lucide="external-link" class="inline-block w-3 h-3 ml-1"></i></span>
                    </a>
                     <a href="#" target="_blank" rel="noopener noreferrer" class="certification-card interactive-element group" aria-label="Udemy JavaScript">
                        <div class="flex items-center justify-between mb-2">
                            <span class="cert-issuer">Udemy</span>
                            <i data-lucide="file-json" class="cert-icon w-6 h-6 text-yellow-500 opacity-70 group-hover:opacity-100" aria-hidden="true"></i>
                        </div>
                        <h4 class="cert-title">JavaScript Certificate</h4>
                        <span class="cert-link">View Credential <i data-lucide="external-link" class="inline-block w-3 h-3 ml-1"></i></span>
                    </a>
                </div>
                </section>

            <section id="learning-philosophy" class="py-20 px-4 md:px-8 lg:px-16 bg-primary-bg dark:bg-dark-primary-bg reveal-hidden">
                 <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center text-primary-text dark:text-dark-primary-text font-heading tracking-tight reveal-hidden">
                    My Learning Mantra: Stay Curious!
                 </h2>
                 <div class="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                     <div class="reveal-slide-left space-y-6">
                         <p class="text-lg text-secondary-text dark:text-dark-secondary-text leading-relaxed font-body">
                             For me, learning isn't just about accumulating degrees or certificates (though they are nice milestones!). It's a fundamental mindset. The tech landscape, especially in data and AI, shifts faster than Nairobi traffic during rush hour!
                         </p>
                         <p class="text-md text-secondary-text dark:text-dark-secondary-text leading-relaxed font-body">
                             My approach is built on:
                             <ul class="list-disc list-inside space-y-2 text-secondary-text dark:text-dark-secondary-text font-body pl-4">
                                 <li><strong class="text-accent dark:text-dark-accent">Insatiable Curiosity:</strong> Always asking "why?" and "what if?".</li>
                                 <li><strong class="text-accent dark:text-dark-accent">Hands-On Experimentation:</strong> Breaking things (in a safe dev environment, usually!) is often the best way to learn.</li>
                                 <li><strong class="text-accent dark:text-dark-accent">Community Engagement:</strong> Learning from others through open source, forums, and discussions.</li>
                                 <li><strong class="text-accent dark:text-dark-accent">Real-World Application:</strong> Connecting theory to practical problems I'm trying to solve.</li>
                             </ul>
                         </p>
                         <p class="text-md text-secondary-text dark:text-dark-secondary-text leading-relaxed font-body">
                             It's about embracing the challenge, enjoying the process, and never assuming I know everything. There's always a new algorithm, a better technique, or a different perspective to explore.
                         </p>
                     </div>
                     <div class="reveal-slide-right grid grid-cols-2 gap-6">
                         <div class="stat-card">
                             <span class="stat-number" data-target="7" data-suffix="+">0+</span> <span class="stat-label">Years Learning Tech</span>
                         </div>
                          <div class="stat-card">
                             <span class="stat-number" data-target="10" data-suffix="+">0+</span> <span class="stat-label">Certifications</span>
                         </div>
                          <div class="stat-card col-span-2"> <span class="stat-number" data-target="100" data-suffix="%">0%</span> <span class="stat-label">Commitment to Growth</span>
                         </div>
                     </div>
                     </div>
            </section>

            <section id="education-connect" class="py-20 px-4 md:px-8 lg:px-16 text-center bg-gradient-to-t from-secondary-bg/20 to-primary-bg dark:from-dark-secondary-bg/20 dark:to-dark-primary-bg reveal-hidden">
                 <h2 class="text-3xl md:text-4xl font-bold mb-6 text-primary-text dark:text-dark-primary-text font-heading tracking-tight reveal-hidden">
                    Inspired by the Journey?
                 </h2>
                 <p class="text-lg text-secondary-text dark:text-dark-secondary-text max-w-2xl mx-auto mb-10 leading-relaxed font-body reveal-hidden" style="transition-delay: 100ms;">
                     My education is the foundation upon which I build solutions. If my learning path resonates with you, or if you're curious about how this knowledge translates into real-world projects, let's connect!
                 </p>
                 <div class="flex flex-col sm:flex-row justify-center gap-6 reveal-hidden" style="transition-delay: 200ms;">
                     <a href="projects.html" class="cta-button">
                         See My Projects
                         <i data-lucide="code" class="ml-2 h-5 w-5" aria-hidden="true"></i>
                     </a>
                      <a href="contact.html" class="secondary-cta-button">
                         Get in Touch
                         <i data-lucide="message-circle" class="ml-2 h-4 w-4" aria-hidden="true"></i>
                     </a>
                 </div>
                 </section>

        </main>

        <footer class="bg-secondary-bg/10 dark:bg-dark-secondary-bg text-secondary-text dark:text-dark-secondary-text py-6 px-4 md:px-8 text-center text-sm reveal-hidden opacity-0 border-t border-secondary-text/10 dark:border-dark-secondary-text/10 font-body">
             © <span id="currentYear"></span> Daniel Wanjala. All rights reserved. | Constantly Learning. Always Building.
        </footer>

        <button id="back-to-top" aria-label="Back to Top" class="interactive-element p-3 rounded-full bg-accent dark:bg-dark-accent text-white dark:text-jet-black shadow-lg hover:bg-accent-secondary dark:hover:bg-dark-accent-secondary transition-all duration-300 hover:scale-110">
            <i data-lucide="arrow-up" class="h-5 w-5"></i>
        </button>

    </div>

    <script defer>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Initialize Lucide Icons ---
            try { if (typeof lucide !== 'undefined') { lucide.createIcons(); } else { console.warn('Lucide icons library not loaded yet.'); } } catch (e) { console.error('Error creating Lucide icons:', e); }

            // --- Constants and State ---
            const scrollRevealThreshold = 0.1;
            const scrollRevealRootMargin = "0px 0px -50px 0px";
            let toneJsStarted = false;
            let synth, clickSynth;
            let particleAnimationId = null;
            let mouse = { x: null, y: null };
            let currentActiveSectionId = 'education'; // Default for this page

            // --- DOM Element References ---
            const htmlEl = document.documentElement;
            const bodyEl = document.body;
            const mainHeader = document.getElementById('main-header');
            const themeToggleButton = document.getElementById('theme-toggle');
            // ... (other common refs: theme icons, mobile menu, year, scrollbar, nav links)
            const currentYearEl = document.getElementById('currentYear');
            const scrollProgressBar = document.getElementById('scrollProgressBar');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuIconOpen = document.getElementById('menu-icon-open');
            const menuIconClose = document.getElementById('menu-icon-close');
            const themeIconSun = document.getElementById('theme-icon-sun');
            const themeIconMoon = document.getElementById('theme-icon-moon');
            const navLinks = document.querySelectorAll('#desktop-nav .nav-link');
            const mobileNavLinks = document.querySelectorAll('#mobile-menu .mobile-nav-link');
            const mainContentContainer = document.getElementById('main-content-container');
            const particleCanvas = document.getElementById('particle-canvas');
            const backToTopButton = document.getElementById('back-to-top');
            const interactiveElements = document.querySelectorAll('a[href], button, [role="button"], [role="link"], .interactive-element');
            const statCounters = document.querySelectorAll('.stat-number'); // Select counter elements

            // --- Initial Setup Functions ---
            function setupToneJS() { /* ... Same as before ... */
                 const startTone = () => { if (toneJsStarted || typeof Tone === 'undefined') return; try { Tone.start(); synth = new Tone.Synth({ oscillator: { type: 'sine' }, envelope: { attack: 0.005, decay: 0.1, sustain: 0.1, release: 0.1 }, volume: -25 }).toDestination(); clickSynth = new Tone.Synth({ oscillator: { type: 'triangle' }, envelope: { attack: 0.001, decay: 0.1, sustain: 0.05, release: 0.1 }, volume: -20 }).toDestination(); toneJsStarted = true; console.log("Tone.js AudioContext started."); ['click', 'keydown', 'touchstart'].forEach(evt => bodyEl.removeEventListener(evt, startTone)); } catch (e) { console.error("Tone.js initialization failed:", e); toneJsStarted = false; } }; ['click', 'keydown', 'touchstart'].forEach(evt => bodyEl.addEventListener(evt, startTone, { once: true, passive: true }));
             }
            function addSoundFeedback() { /* ... Same as before ... */
                 interactiveElements.forEach(el => { el.addEventListener('mouseenter', () => { if (toneJsStarted && synth) { try { synth.triggerAttackRelease('C5', '16n', Tone.now()); } catch(e) {} } }); el.addEventListener('click', () => { if (toneJsStarted && clickSynth) { try { clickSynth.triggerAttackRelease('E4', '16n', Tone.now()); } catch(e) {} } }); });
            }
            function setFooterYear() { /* ... Same as before ... */
                 if (currentYearEl) currentYearEl.textContent = new Date().getFullYear();
            }

            // --- Core Functionality ---
             function updateThemeUI() { /* ... Same as before ... */
                 if (!htmlEl || !bodyEl) return; const isDark = htmlEl.classList.contains('dark'); if (themeIconSun && themeIconMoon) { themeIconSun.classList.toggle('hidden', !isDark); themeIconMoon.classList.toggle('hidden', isDark); try { lucide.createIcons(); } catch(e) {} } const noiseLight = "url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%239C92AC' fill-opacity='0.10' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E\")"; const noiseDark = "url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%23C5C6C7' fill-opacity='0.05' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E\")"; bodyEl.style.backgroundImage = isDark ? noiseDark : noiseLight; if (particleCanvas) initParticles();
             }
            function setTheme(theme) { /* ... Same as before ... */
                 if (!htmlEl) return; htmlEl.classList.toggle('dark', theme === 'dark'); localStorage.setItem('theme', theme); updateThemeUI(); if (toneJsStarted && clickSynth) { try { clickSynth.triggerAttackRelease(theme === 'dark' ? 'C3' : 'G3', '8n', Tone.now()); } catch(e) {} }
            }
            function toggleMobileMenu() { /* ... Same as before ... */
                  if (!mobileMenuButton || !mobileMenu || !menuIconOpen || !menuIconClose) return; const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true'; mobileMenuButton.setAttribute('aria-expanded', !isExpanded); mobileMenu.classList.toggle('open'); menuIconOpen.classList.toggle('hidden'); menuIconClose.classList.toggle('hidden');
             }
             function closeMobileMenu() { /* ... Same as before ... */
                 if (!mobileMenuButton || !mobileMenu || !menuIconOpen || !menuIconClose) return; if (mobileMenuButton.getAttribute('aria-expanded') === 'true') { mobileMenuButton.setAttribute('aria-expanded', 'false'); mobileMenu.classList.remove('open'); menuIconOpen.classList.remove('hidden'); menuIconClose.classList.add('hidden'); }
             }
            function handleScroll() { /* ... Same as before ... */
                 if (!htmlEl || !scrollProgressBar || !mainHeader) return; const scrollableHeight = htmlEl.scrollHeight - window.innerHeight; const scrolled = window.scrollY; const progress = scrollableHeight > 0 ? Math.min(1, scrolled / scrollableHeight) : 0; scrollProgressBar.style.transform = `scaleX(${progress})`; mainHeader.classList.toggle('scrolled', scrolled > 50); if (backToTopButton) { backToTopButton.classList.toggle('visible', scrolled > 300); }
            }
            function setupTiltEffect() { /* ... Same as before ... */
                  if (!mainContentContainer) return; const handleOrientation = (event) => { if (event.beta === null || event.gamma === null) return; const beta = Math.max(-20, Math.min(20, event.beta)); const gamma = Math.max(-20, Math.min(20, event.gamma)); const maxTilt = 1.5; const tiltY = (beta / 20 * maxTilt).toFixed(2); const tiltX = (gamma / 20 * -maxTilt).toFixed(2); requestAnimationFrame(() => { mainContentContainer.style.transform = `perspective(1000px) rotateX(${tiltY}deg) rotateY(${tiltX}deg)`; }); }; if (window.DeviceOrientationEvent) { window.addEventListener('deviceorientation', handleOrientation, true); } else { console.log("DeviceOrientation not supported."); }
             }
            function setupBackToTop() { /* ... Same as before ... */
                 if (backToTopButton) { backToTopButton.addEventListener('click', () => { window.scrollTo({ top: 0, behavior: 'smooth' }); }); }
            }

            // --- Education Page Specific Functionality ---

            /** Animate counters when they become visible */
            function animateCounters(entries, observer) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const counter = entry.target;
                        const target = +counter.getAttribute('data-target');
                        const suffix = counter.getAttribute('data-suffix') || '';
                        const duration = 1500; // Animation duration in ms
                        counter.innerText = '0' + suffix; // Start from 0

                        let startTimestamp = null;
                        const step = (timestamp) => {
                            if (!startTimestamp) startTimestamp = timestamp;
                            const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                            counter.innerText = Math.floor(progress * target) + suffix;
                            if (progress < 1) {
                                window.requestAnimationFrame(step);
                            }
                        };
                        window.requestAnimationFrame(step);
                        observer.unobserve(counter); // Animate only once
                    }
                });
            }

            /** Setup Intersection Observer for various elements */
            function setupIntersectionObservers() {
                const revealObserverOptions = { threshold: scrollRevealThreshold, rootMargin: scrollRevealRootMargin };
                const counterObserverOptions = { threshold: 0.5 }; // Trigger counter when 50% visible

                const revealCallback = (entries, observer) => {
                    entries.forEach((entry, index) => {
                        if (entry.isIntersecting) {
                            const delay = entry.target.dataset.revealDelay ? parseInt(entry.target.dataset.revealDelay) : (index * 100);
                            entry.target.style.transitionDelay = `${delay}ms`;
                            entry.target.classList.add('reveal-visible');
                            if (entry.target.classList.contains('reveal-slide-left') || entry.target.classList.contains('reveal-slide-right')) {
                                entry.target.classList.add('slide-in');
                            }
                            // Trigger timeline bar animation if the timeline section is revealed
                            if (entry.target.id === 'education-timeline-section') {
                                const timelineBar = document.querySelector('.education-timeline::before');
                                // You might need to add a class to trigger the animation defined in CSS
                                // Or directly manipulate style if animation is JS-driven
                            }
                            observer.unobserve(entry.target);
                        }
                    });
                };

                const revealObserver = new IntersectionObserver(revealCallback, revealObserverOptions);
                document.querySelectorAll('.reveal-hidden, .reveal-slide-left, .reveal-slide-right').forEach(el => revealObserver.observe(el));

                // Observer for counters
                const counterObserver = new IntersectionObserver(animateCounters, counterObserverOptions);
                statCounters.forEach(counter => counterObserver.observe(counter));
            }

            function setupNavHighlighting() { // Simplified for single page
                navLinks.forEach(link => { link.classList.toggle('nav-active', link.getAttribute('data-section') === 'education'); });
                mobileNavLinks.forEach(link => { link.classList.toggle('nav-active', link.getAttribute('data-section') === 'education'); });
            }

            // --- Particle Background Logic ---
            let particles = [];
            function initParticles() { /* ... Same as before ... */
                 if (!particleCanvas) return; const ctx = particleCanvas.getContext('2d'); if (!ctx) return; if (particleAnimationId) cancelAnimationFrame(particleAnimationId); resizeCanvas(); particles.forEach(p => p.baseColor = null); createParticles(); if (!document.hidden) { drawParticles(); }
            }
            function resizeCanvas() { /* ... Same as before ... */
                  if (!particleCanvas) return; particleCanvas.width = window.innerWidth; particleCanvas.height = window.innerHeight;
             }
            function createParticles() { /* ... Same as before ... */
                 if (!particleCanvas) return; particles = []; const particleCount = Math.floor((particleCanvas.width * particleCanvas.height) / 18000); for (let i = 0; i < particleCount; i++) { particles.push({ x: Math.random() * particleCanvas.width, y: Math.random() * particleCanvas.height, vx: (Math.random() - 0.5) * 0.3, vy: (Math.random() - 0.5) * 0.3, radius: Math.random() * 1.8 + 0.8, baseRadius: Math.random() * 1.8 + 0.8, baseColor: null, drawColor: null, }); }
            }
            function drawParticles() { /* ... Same as before ... */
                  if (!particleCanvas) return; const ctx = particleCanvas.getContext('2d'); if (!ctx) return; ctx.clearRect(0, 0, particleCanvas.width, particleCanvas.height); const isDark = htmlEl.classList.contains('dark'); const twConfig = tailwind.config.theme.extend.colors; const lightColors = [`${twConfig.accent}80`, `${twConfig['accent-secondary']}80`, `${twConfig['tertiary-light']}60`]; const darkColors = [`${twConfig['dark-accent']}80`, `${twConfig['dark-accent-secondary']}80`, `${twConfig['tertiary-dark']}60`]; const themeColors = isDark ? darkColors : lightColors; const lineColor = isDark ? 'rgba(197, 198, 199, 0.05)' : 'rgba(74, 74, 74, 0.05)'; const particleInteractionRadius = 120; const particleLineThreshold = 110; particles.forEach((p, i) => { if (!p.baseColor) p.baseColor = themeColors[Math.floor(Math.random() * themeColors.length)]; p.drawColor = p.baseColor; p.radius = p.baseRadius; if (mouse.x !== null && mouse.y !== null) { const dx = mouse.x - p.x; const dy = mouse.y - p.y; const distance = Math.sqrt(dx * dx + dy * dy); if (distance < particleInteractionRadius) { const proximityFactor = 1 - (distance / particleInteractionRadius); const baseHex = p.baseColor.substring(0, 7); const currentAlphaHex = p.baseColor.substring(7, 9) || '80'; const currentAlphaDec = parseInt(currentAlphaHex, 16); const targetAlphaDec = Math.min(255, Math.floor(currentAlphaDec + proximityFactor * 100)); p.drawColor = `${baseHex}${targetAlphaDec.toString(16).padStart(2, '0')}`; p.radius = p.baseRadius + proximityFactor * 1.5; const force = proximityFactor; const pushStrength = 0.4; p.x -= (dx / distance) * force * pushStrength; p.y -= (dy / distance) * force * pushStrength; } } ctx.fillStyle = p.drawColor; ctx.beginPath(); ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2); ctx.fill(); p.x += p.vx; p.y += p.vy; if (p.x < -p.radius) p.x = particleCanvas.width + p.radius; if (p.x > particleCanvas.width + p.radius) p.x = -p.radius; if (p.y < -p.radius) p.y = particleCanvas.height + p.radius; if (p.y > particleCanvas.height + p.radius) p.y = -p.radius; for (let j = i + 1; j < particles.length; j++) { const p2 = particles[j]; const dx = p.x - p2.x; const dy = p.y - p2.y; const distance = Math.sqrt(dx * dx + dy * dy); if (distance < particleLineThreshold) { ctx.strokeStyle = lineColor; ctx.lineWidth = 0.5 * (1 - distance / particleLineThreshold); ctx.beginPath(); ctx.moveTo(p.x, p.y); ctx.lineTo(p2.x, p2.y); ctx.stroke(); } } }); particleAnimationId = requestAnimationFrame(drawParticles);
             }
            const updateMousePosition = (event) => { /* ... Same as before ... */
                 if (!particleCanvas) return; const rect = particleCanvas.getBoundingClientRect(); const clientX = event.touches ? event.touches[0].clientX : event.clientX; const clientY = event.touches ? event.touches[0].clientY : event.clientY; mouse.x = clientX - rect.left; mouse.y = clientY - rect.top;
             };
            const resetMousePosition = () => { /* ... Same as before ... */
                 mouse.x = null; mouse.y = null;
             };
            if (particleCanvas) { /* ... Same event listeners as before ... */
                 particleCanvas.addEventListener('mousemove', updateMousePosition); particleCanvas.addEventListener('touchmove', updateMousePosition, { passive: true }); particleCanvas.addEventListener('mouseleave', resetMousePosition); particleCanvas.addEventListener('touchend', resetMousePosition); let resizeTimeout; window.addEventListener('resize', () => { clearTimeout(resizeTimeout); resizeTimeout = setTimeout(initParticles, 250); }); document.addEventListener('visibilitychange', () => { if (!particleCanvas) return; if (document.hidden) { if (particleAnimationId) { cancelAnimationFrame(particleAnimationId); particleAnimationId = null; } } else { if (!particleAnimationId) { drawParticles(); } } });
            }
            // --- End Particle Logic ---

            // --- Event Listeners & Initialization Call ---
            if (themeToggleButton) { themeToggleButton.addEventListener('click', () => { const newTheme = htmlEl.classList.contains('dark') ? 'light' : 'dark'; setTheme(newTheme); }); }
            if (mobileMenuButton) { mobileMenuButton.addEventListener('click', toggleMobileMenu); }
            mobileNavLinks.forEach(link => { link.addEventListener('click', closeMobileMenu); });
            window.addEventListener('scroll', handleScroll, { passive: true });

            // --- Initialize Everything ---
            setupToneJS();
            addSoundFeedback();
            setFooterYear();
            updateThemeUI();
            setupIntersectionObservers(); // Use the combined observer setup
            setupNavHighlighting();
            setupTiltEffect();
            setupBackToTop();
            if (particleCanvas) initParticles();

        }); // End DOMContentLoaded
    </script>

</body>
</html>
